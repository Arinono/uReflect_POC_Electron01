<!DOCTYPE html>
<html>
  <head>
    <!-- to have access to local or global scripts -->
    <script>
    require(process.cwd() + '/node_modules/benja').paths();
    </script>
    <!-- for debugging purpose -->
    <script>document.documentElement.ondblclick=()=>location.reload();</script>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="assets/css/main.css">
    <title>uReflect</title>
  </head>
  <body>
    <header>
      <img src="logo-ureflect.png">
      <h1>uReflect</h1>
      <h2>connected mirror</h2>
    </header>
    <main></main>
    <script>
    const
      main = document.querySelector('main'),
      findReachableIPV4Address = () => {
        const ni = require('os').networkInterfaces();
        return Object.keys(ni).reduce((out, key) => {
          return ni[key].reduce((out, iface) => {
            if (iface.family === 'IPv4' && iface.address !== '127.0.0.1') {
              out.push(iface.address);
            }
            return out;
          }, out);
        }, []);
      }
    ;

    findReachableIPV4Address().forEach(function (ip) {
      main.appendChild(
        document.createElement('p')
      ).textContent = ip;
    });

    main.appendChild(
      document.createElement('p')
    ).textContent = [
      document.documentElement.clientWidth,
      document.documentElement.clientHeight
    ].join('x');

    </script>
  </body>
</html>
